(function(){"use strict";var e={571:function(e,t,l){var n=l(9242),a=l(3766),i=l(5417),o=l(3396);function s(e,t,l,n,a,i){const s=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(s)}var u={name:"App"},r=l(89);const d=(0,r.Z)(u,[["render",s]]);var c=d,p=l(678),v=l(7139);const m={class:"wrapper"},g={class:"login-area"},h={key:0,id:"errorId"},k={key:1,id:"errorId"},w={key:2,id:"errorId"};function b(e,t,l,a,i,s){return(0,o.wg)(),(0,o.iD)("div",m,[(0,o._)("div",g,[(0,o._)("h5",null,[(0,o._)("b",null,(0,v.zw)(a.label),1)]),(0,o.wy)((0,o._)("input",{type:"text",placeholder:"Email Address",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>a.emailvalue=e),onBlur:t[1]||(t[1]=e=>a.emailValidator(a.emailvalue,!1))},null,544),[[n.nr,a.emailvalue]]),a.emailError?((0,o.wg)(),(0,o.iD)("p",h,(0,v.zw)(a.emailError),1)):(0,o.kq)("",!0),a.loginError?((0,o.wg)(),(0,o.iD)("p",k,(0,v.zw)(a.loginError),1)):(0,o.kq)("",!0),(0,o.wy)((0,o._)("input",{type:"password",placeholder:"Password",id:"password","onUpdate:modelValue":t[2]||(t[2]=e=>a.passwordValue=e)},null,512),[[n.nr,a.passwordValue]]),a.passwordError?((0,o.wg)(),(0,o.iD)("p",w,(0,v.zw)(a.passwordError),1)):(0,o.kq)("",!0),(0,o.wy)((0,o._)("input",{type:"password",placeholder:"Confirm Password",id:"cfm-password","onUpdate:modelValue":t[3]||(t[3]=e=>a.confirmedPassword=e)},null,512),[[n.nr,a.confirmedPassword]]),(0,o._)("button",{id:"submit",type:"submit",onClick:t[4]||(t[4]=(...e)=>a.signIn&&a.signIn(...e))},(0,v.zw)(a.label),1)])])}var f=l(4870),_=l(6265),y=l.n(_),L=l(4677);const P=(0,L.pm)(),I=(0,a.Q_)("uCreate",{state:()=>({isLoggedIn:!1,loginError:"",currentUser:Object}),getters:{},actions:{async signInUser(e){e?await y().post("/api/admin",e).then((e=>{e.status===Number("200")&&(this.isLoggedIn=!0,this.loginError="",P.success("Welcome Admin!"))})):(this.isLoggedIn=!1,this.loginError="failed to log in!")},signOut(){this.isLoggedIn=!1,this.currentUser="",P.success("LogOut successful!")}},persist:!0});var D={name:"signin-login",setup(){const e=(0,f.iH)(!1),t=(0,f.iH)(""),l=(0,f.iH)("Log In"),n=(0,f.iH)(""),a=(0,f.iH)(""),i=(0,f.iH)(""),s=(0,f.iH)(""),u=(0,f.iH)("");function r(){a.value="",i.value="",s.value=""}const d=I(),c=(0,f.iH)(""),p=(0,f.iH)(""),v=(0,f.iH)("");function m(){if(r(),!a.value)if(p.value.length<6)i.value="Minimum password length is 6";else if(v.value===p.value){var e={adminEmail:c.value.trim(),adminPassword:p.value.trim()};d.signInUser(e).then((()=>{d.isLoggedIn&&Ln.push({name:"admin-options"})}))}else i.value="Passwords didn't match!"}function g(e,t){const l=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(l.test(e.trim()))return!0;t?u.value="invalid email":a.value="invalid email"}return(0,o.bv)((()=>{r()})),{resetEmailError:u,loginError:s,label:l,emailvalue:c,emailValidator:g,passwordValue:p,signIn:m,fullName:n,passwordError:i,confirmedPassword:v,emailError:a,toReset:e,resetEmail:t}}};const H=(0,r.Z)(D,[["render",b],["__scopeId","data-v-7a526ee4"]]);var A=H;const N=e=>((0,o.dD)("data-v-0034ad26"),e=e(),(0,o.Cn)(),e),E={class:"wrapper"},x={class:"log-out"},C=N((()=>(0,o._)("div",{class:"page-label"},[(0,o._)("h5",null,[(0,o._)("b",null,"Admin Options")])],-1))),U={class:"admin-options"},O=N((()=>(0,o._)("h6",null,[(0,o._)("b",null,"Upload a Post")],-1))),V=[O],B=N((()=>(0,o._)("h6",null,[(0,o._)("b",null,"Edit a Post")],-1))),T=[B],z=N((()=>(0,o._)("h6",null,[(0,o._)("b",null,"Upload Photos to Gallery")],-1))),S=[z],Z=N((()=>(0,o._)("h6",null,[(0,o._)("b",null,"Upload a New Issue")],-1))),q=[Z],F=N((()=>(0,o._)("h6",null,[(0,o._)("b",null,"Upload a Book for Sale")],-1))),W=[F];function $(e,t,l,n,a,i){return(0,o.wg)(),(0,o.iD)("div",E,[(0,o._)("div",x,[(0,o._)("button",{onClick:t[0]||(t[0]=(...e)=>n.logOut&&n.logOut(...e))},"Log Out")]),C,(0,o._)("div",U,[(0,o._)("ul",null,[(0,o._)("li",{onClick:t[1]||(t[1]=e=>n.goToPages("create-post"))},V),(0,o._)("li",{onClick:t[2]||(t[2]=e=>n.goToPages("edit-post"))},T),(0,o._)("li",{onClick:t[3]||(t[3]=e=>n.goToPages("upload-gallery"))},S),(0,o._)("li",{onClick:t[4]||(t[4]=e=>n.goToPages("upload-new-issue"))},q),(0,o._)("li",{onClick:t[5]||(t[5]=e=>n.goToPages("upload-book-for-sale"))},W)])])])}var j={name:"admin-options",setup(){const e=I();function t(e){return Ln.push({name:e})}function l(){e.signOut(),e.isLoggedIn||t("signin-login")}return(0,o.bv)((()=>{e.isLoggedIn||t("signin-login")})),{goToPages:t,logOut:l}}};const M=(0,r.Z)(j,[["render",$],["__scopeId","data-v-0034ad26"]]);var K=M;const Y=e=>((0,o.dD)("data-v-68952948"),e=e(),(0,o.Cn)(),e),R={class:"wrapper"},G=Y((()=>(0,o._)("h6",null,[(0,o._)("b",null,"Create Post")],-1))),Q={class:"create-post-form"},J={class:"post-category"},X=Y((()=>(0,o._)("label",null,"Select Post category:",-1))),ee={class:"title"},te=Y((()=>(0,o._)("label",null," Post Title:",-1))),le={key:0},ne={class:"post-image"},ae=Y((()=>(0,o._)("label",null,"Post Image",-1))),ie={key:0,id:"errorInfo"},oe={class:"important-links"},se=Y((()=>(0,o._)("label",null,"Important Post Links",-1))),ue={key:1,id:"errorInfo"},re={key:2,class:"added-links-display"},de=["href"],ce={class:"other-images"},pe=Y((()=>(0,o._)("label",null,"Other Images",-1))),ve={key:1,id:"errorInfo"},me={key:2,class:"added-links-display"},ge=["href"],he={class:"post-description"},ke=Y((()=>(0,o._)("label",null,"Post description",-1))),we={class:"action-btns"},be=Y((()=>(0,o._)("button",{type:"submit"},"Upload Post",-1)));function fe(e,t,l,a,i,s){return(0,o.wg)(),(0,o.iD)("div",R,[G,(0,o._)("div",Q,[(0,o._)("form",{enctype:"multipart/form-data",ref:"form",onSubmit:t[14]||(t[14]=(0,n.iM)(((...e)=>a.uploadPost&&a.uploadPost(...e)),["prevent"]))},[(0,o._)("div",J,[X,(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.selectedcategory=e),name:"type"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.typesOfPost,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t},(0,v.zw)(e),1)))),128))],512),[[n.bM,a.selectedcategory]])]),(0,o._)("div",ee,[te,(0,o.wy)((0,o._)("textarea",{id:"txtarea1",maxlength:"200",class:"txtarea",onKeyup:t[1]||(t[1]=e=>a.adjustTextFieldHeight("#txtarea1")),"onUpdate:modelValue":t[2]||(t[2]=e=>a.postTitle=e),name:"title",placeholder:"Enter post title"},null,544),[[n.nr,a.postTitle]]),a.emptyTitleError?((0,o.wg)(),(0,o.iD)("p",le,(0,v.zw)(a.emptyTitleError),1)):(0,o.kq)("",!0)]),(0,o._)("div",ne,[ae,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>a.postImageLink=e),onBlur:t[4]||(t[4]=e=>a.checkWebLinks3(a.postImageLink)),class:"coverPhotoL"},null,544),[[n.nr,a.postImageLink]]),a.invalidLinkError3?((0,o.wg)(),(0,o.iD)("p",ie,(0,v.zw)(a.invalidLinkError3),1)):(0,o.kq)("",!0)]),(0,o._)("div",oe,[se,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>a.individualLink=e),id:"linkinput",name:"importantLinks",onBlur:t[6]||(t[6]=e=>a.checkWebLinks(a.individualLink))},null,544),[[n.nr,a.individualLink]]),a.showAddLinkButton?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",onClick:t[7]||(t[7]=(...e)=>a.collectLinks&&a.collectLinks(...e))}," Add link ")):(0,o.kq)("",!0),a.invalidLinkError?((0,o.wg)(),(0,o.iD)("p",ue,(0,v.zw)(a.invalidLinkError),1)):(0,o.kq)("",!0),0!=a.linkValues.length?((0,o.wg)(),(0,o.iD)("div",re,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.linkValues,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},[(0,o._)("a",{href:e.linkvalue,target:"_blank"},(0,v.zw)(e),9,de)])))),128))])):(0,o.kq)("",!0)]),(0,o._)("div",ce,[pe,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=e=>a.otherImageLink=e),id:"otherImageinput",name:"importantLinks",onBlur:t[9]||(t[9]=e=>a.checkWebLinks2(a.otherImageLink))},null,544),[[n.nr,a.otherImageLink]]),a.showAddOtherImageButton?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",onClick:t[10]||(t[10]=(...e)=>a.collectOtherImagesLinks&&a.collectOtherImagesLinks(...e))}," Add Imagelink ")):(0,o.kq)("",!0),0!==a.invalidOtherImageError.length?((0,o.wg)(),(0,o.iD)("p",ve,(0,v.zw)(a.invalidOtherImageError),1)):(0,o.kq)("",!0),0!=a.otherImages.length?((0,o.wg)(),(0,o.iD)("div",me,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.otherImages,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},[(0,o._)("a",{href:e,target:"_blank"},(0,v.zw)(e),9,ge)])))),128))])):(0,o.kq)("",!0)]),(0,o._)("div",he,[ke,(0,o.wy)((0,o._)("textarea",{maxlength:"500",onKeyup:t[11]||(t[11]=e=>a.adjustTextFieldHeight("#txtarea2")),id:"txtarea2",placeholder:"Enter Post Description","onUpdate:modelValue":t[12]||(t[12]=e=>a.descriptionValue=e),name:"description"},null,544),[[n.nr,a.descriptionValue]])]),(0,o._)("div",we,[be,(0,o._)("button",{type:"button",onClick:t[13]||(t[13]=(...e)=>a.resetAll&&a.resetAll(...e))},"Reset")])],544)])])}l(6699);const _e=(0,L.pm)(),ye=(0,a.Q_)("postCollection",{state:()=>({PostCollection:[],selectedIndex:Number}),getters:{getPost:e=>e.PostCollection},actions:{async createNewPost(e){await y().post("/api/post",e).then((e=>{e.status===Number("200")&&_e.success("New post uploaded!")}))},async extractAllPostsFromServer(){0===this.PostCollection.length&&await y().get("/api/post").then((e=>{e.status===Number("200")&&(this.PostCollection=e.data)}))},setSelectedPostId(e){this.selectedIndex=e},async editPost(e,t){e&&t&&await y().patch(`/api/post/${e}`,t).then((e=>{e.status===Number("200")&&_e.success("Post updated!")}))},async deletePost(e){await y()["delete"](`/api/post/${e}`).then((e=>e.status===Number("200")?(_e.success("Successfully deleted!"),!0):(_e.success("Operation failed!"),!1)))}},persist:!0});var Le={name:"create-post",setup(){const e=I();function t(e){return Ln.push({name:e})}(0,o.bv)((()=>{e.isLoggedIn||t("signin-login")}));const l=(0,L.pm)(),n=ye(),a=(0,f.iH)([]),i=(0,f.iH)(""),s=(0,f.iH)(""),u=(0,f.iH)(!1),r=(0,f.iH)(""),d=(0,f.iH)([]),c=(0,f.iH)([]),p=(0,f.iH)(""),v=(0,f.iH)(""),m=(0,f.iH)(""),g=["Post Update","Announcement","Book Launch","Discussion","Other Activities"],h=(0,f.iH)("Post Update");function k(){var e=document.getElementById("linkinput").value;if(0===a.value.length)return a.value.push(e),s.value="",void(i.value="");for(var t in a.value)if(a.value[t]===e)return void(s.value="Duplicate Entry not allowed");a.value.push(e),s.value="",i.value=""}const w=(0,f.iH)(""),b=(0,f.iH)("");function _(){if(0===c.value.length){if(0===w.value.length)return;return c.value.push(w.value),b.value="",void(w.value="")}for(var e in c.value)if(c.value[e]===w.value)return void(b.value="Duplicate Entry not allowed");c.value.push(w.value),b.value="",w.value=""}function y(e){const t=document.querySelector(e);t.addEventListener("keyup",(e=>{t.style.height="auto";const l=e.target.scrollHeight;t.style.height=`${l}px`}))}function P(e){const t=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/;if(t.test(e.trim()))return e.trim().includes("https://")?void(H.value=""):void(H.value="Link must include https://");H.value="Invalid Link"}function D(e){const t=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/;if(t.test(e.trim()))return e.trim().includes("https://")?(s.value="",void(u.value=!0)):void(s.value="Link must include https://");s.value="Invalid Link",u.value=!1}const H=(0,f.iH)(""),A=(0,f.iH)(!1);function N(e){const t=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/;if(t.test(e.trim()))return e.trim().includes("https://")?(b.value="",void(A.value=!0)):(b.value="Link must include https://",void(w.value=""));b.value="Invalid Link",w.value="",A.value=!1}const E=(0,f.iH)("");function x(e,t){const l=document.getElementById(e);l.addEventListener("change",(function(){if(l.value){const e=l.files;t?0!=d.value.length&&(d.value=[]):0!=c.value.length&&(c.value=[]);for(let l=0;l<e.length;l++)e[l].type.match("image")&&(t?(d.value.push(e[l]),E.value=e[l].name):c.value.push(e[l]))}}))}function C(){p.value="",c.value=[],r.value="",a.value=[],i.value="",s.value="",H.value="",b.value="",A.value=!1,u.value=!1,v.value="",m.value=""}async function U(){if(p.value){var e=new FormData,t=(new Date).toLocaleString(),i=(new Date).getTime();e.append("time",t),e.append("type",h.value),e.append("title",p.value),e.append("description",m.value),e.append("postImage",r.value),e.append("postImageName",E.value),e.append("lastActionTime",i);for(const t in c.value)e.append("otherImages",c.value[t]);for(const t in a.value)e.append("importantLinks",a.value[t]);await n.createNewPost(e).then((()=>{C()}))}else l.warning("Post Title is missing")}return{uploadPost:U,showAddOtherImageButton:A,checkWebLinks2:N,checkWebLinks3:P,invalidLinkError3:H,invalidOtherImageError:b,postImageLink:r,otherImageLink:w,collectLinks:k,collectOtherImagesLinks:_,linkValues:a,adjustTextFieldHeight:y,invalidLinkError:s,checkWebLinks:D,emptyTitleError:v,individualLink:i,selectedcategory:h,showAddLinkButton:u,descriptionValue:m,postImage:d,getSelectedPhotos:x,otherImages:c,postTitle:p,resetAll:C,typesOfPost:g,postCollection:n}}};const Pe=(0,r.Z)(Le,[["render",fe],["__scopeId","data-v-68952948"]]);var Ie=Pe;const De=e=>((0,o.dD)("data-v-34a136f0"),e=e(),(0,o.Cn)(),e),He={class:"wrapper"},Ae={key:0,class:"posts-for-selection"},Ne=De((()=>(0,o._)("h5",null,"Select from Below",-1))),Ee={class:"all-post"},xe=De((()=>(0,o._)("tr",null,[(0,o._)("th",null,"Post Title"),(0,o._)("th",null,"date"),(0,o._)("th",null,"Edit Option")],-1))),Ce=["onClick"],Ue=["onClick"],Oe={class:"edit-post-item"},Ve={class:"deletebtn"},Be={class:"post-time"},Te={class:"post-category"},ze=De((()=>(0,o._)("label",null,"Select Post Category:",-1))),Se={class:"title"},Ze=De((()=>(0,o._)("label",null,"Post Title",-1))),qe={class:"Image"},Fe=De((()=>(0,o._)("label",null,"Post Image",-1))),We={class:"editableImg"},$e=["src"],je={class:"Links"},Me=De((()=>(0,o._)("label",null,"Post Links",-1))),Ke=["href"],Ye=["onClick"],Re=De((()=>(0,o._)("i",{class:"fa-solid fa-pen"},null,-1))),Ge=[Re],Qe={class:"add-new-btn"},Je={key:0,class:"add-link"},Xe={key:0},et={class:"otherImages"},tt=De((()=>(0,o._)("label",null,"Other Images",-1))),lt={class:"image-container"},nt=["src"],at={class:"description"},it=De((()=>(0,o._)("label",null,"Post Description",-1))),ot={class:"actionButtons"},st=De((()=>(0,o._)("button",{type:"submit"},"Save Changes & update",-1))),ut={key:0,class:"loading"},rt=De((()=>(0,o._)("p",null,"Please Wait....",-1))),dt=[rt];function ct(e,t,l,a,i,s){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",He,[!1===a.isPostSelectedForEdit?((0,o.wg)(),(0,o.iD)("div",Ae,[Ne,(0,o._)("div",Ee,[(0,o._)("table",null,[xe,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.allPostList,((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:t},[(0,o._)("td",null,[(0,o._)("p",{onClick:t=>a.goToPostViewScreen(e._id),id:"post-ttle"},(0,v.zw)(e.title),9,Ce)]),(0,o._)("td",null,[(0,o._)("p",null,(0,v.zw)(e.time),1)]),(0,o._)("td",null,[(0,o._)("button",{class:"editPostBtn",onClick:t=>a.selectPostForEdit(e._id)}," Edit ",8,Ue)])])))),128))])])])):((0,o.wg)(),(0,o.iD)("form",{key:1,enctype:"multipart/form-data",ref:"form",onSubmit:t[8]||(t[8]=(0,n.iM)(((...e)=>a.createModifiedPost&&a.createModifiedPost(...e)),["prevent"]))},[(0,o._)("div",Oe,[(0,o._)("div",Ve,[(0,o._)("button",{type:"button",class:"delete-post",onClick:t[0]||(t[0]=e=>a.deletePost(a.selectedPostObject[0]._id))}," Delete Post ")]),(0,o._)("div",Be,[(0,o._)("p",null,(0,v.zw)(a.selectedPostObject[0].time),1)]),(0,o._)("div",Te,[ze,(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.postType=e)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.typesOfPost,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t},(0,v.zw)(e),1)))),128))],512),[[n.bM,a.postType]])]),(0,o._)("div",Se,[Ze,(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>a.postTitle=e)},null,512),[[n.nr,a.postTitle]])]),(0,o._)("div",qe,[Fe,(0,o._)("div",We,[a.postImageValue[0]?((0,o.wg)(),(0,o.iD)("img",{key:0,src:a.postImageValue[0]},null,8,$e)):(0,o.kq)("",!0)])]),(0,o._)("div",je,[Me,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.linkValues,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},[(0,o._)("a",{href:e,target:"_blank"},[(0,o.Uk)((0,v.zw)(e)+" ",1),(0,o._)("button",{type:"button",onClick:(0,n.iM)((e=>a.removePostLink(t)),["prevent"])},Ge,8,Ye)],8,Ke)])))),128)),(0,o._)("div",Qe,[(0,o._)("button",{type:"button",onClick:t[3]||(t[3]=e=>a.showAddLinkOptions=!a.showAddLinkOptions)}," Add Newlink ")]),a.showAddLinkOptions?((0,o.wg)(),(0,o.iD)("div",Je,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>a.newLinkValue=e),placeholder:"link Link"},null,512),[[n.nr,a.newLinkValue]]),a.linkError?((0,o.wg)(),(0,o.iD)("p",Xe,(0,v.zw)(a.linkError),1)):(0,o.kq)("",!0),(0,o._)("button",{type:"button",onClick:t[5]||(t[5]=(...e)=>a.collectLinks&&a.collectLinks(...e))},"Add link")])):(0,o.kq)("",!0)]),(0,o._)("div",et,[tt,(0,o._)("div",lt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.otherImages,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"other-img",key:t},[(0,o._)("img",{src:e,alt:""},null,8,nt)])))),128))])]),(0,o._)("div",at,[it,(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[6]||(t[6]=e=>a.postDescription=e)},null,512),[[n.nr,a.postDescription]])]),(0,o._)("div",ot,[st,(0,o._)("button",{type:"button",onClick:t[7]||(t[7]=(...e)=>a.cancelEdit&&a.cancelEdit(...e))},"Cancel")])])],544))]),a.isBeingEdited?((0,o.wg)(),(0,o.iD)("div",ut,dt)):(0,o.kq)("",!0)],64)}var pt={name:"edit-post",setup(){const e=I();function t(e){return Ln.push({name:e})}(0,o.bv)((()=>{e.isLoggedIn||t("signin-login")}));const l=(0,f.iH)([]),n=(0,f.iH)(!1),a=(0,L.pm)(),i=(0,f.iH)(!1),s=(0,f.iH)([]),u=ye(),r=(0,f.iH)(""),d=(0,f.iH)([]);(0,o.bv)((async()=>{await u.extractAllPostsFromServer().then((()=>{d.value=u.PostCollection}))}));var c=[];function p(e){s.value=u.PostCollection.filter((t=>t._id===e)),null!==s.value&&(k.value=s.value[0].type,w.value=s.value[0].title,A.value=[s.value[0].postImage],N.value=s.value[0].otherImages,b.value=s.value[0].importantLinks,E.value=s.value[0].description,i.value=!0)}function v(){var e=!0;if(0==c.length&&0===s.value[0].importantLinks.length?e=!0:0==c.length&&0!==s.value[0].importantLinks.length||c.length>s.value[0].importantLinks.length?e=!1:c.forEach((t=>{s.value[0].importantLinks.includes(t)||(e=!1)})),E.value===s.value[0].description&&e&&w.value===s.value[0].title&&k.value===s.value[0].type)a.warning("You Edited Nothing");else if(0!==w.value.length){var t=new FormData;E.value!==s.value[0].description&&t.append("description",E.value),e||(0===b.value.length?t.append("deleteAllLink",!0):b.value.forEach((e=>{t.append("importantLinks",e)}))),w.value!==s.value[0].title&&t.append("title",w.value),k.value!==s.value[0].type&&t.append("type",k.value);var l=(new Date).getTime();t.append("lastActionTime",l),u.editPost(s.value[0]._id,t).then((async()=>{await u.extractAllPostsFromServer().then((()=>{d.value=u.PostCollection}))})),n.value=!1,i.value=!1}else a.warning("Title cant be empty")}function m(){i.value=!1}function g(e){u.setSelectedPostId(e),Ln.push({name:"fullpost-view"})}const h=["Post Update","Announcement","Book Launch","Discussion","Other Activities"],k=(0,f.iH)(""),w=(0,f.iH)(""),b=(0,f.iH)([]),_=(0,f.iH)(!1),y=(0,f.iH)(!1),P=(0,f.iH)(""),D=(0,f.iH)(),H=(0,f.iH)(!1),A=(0,f.iH)([]),N=(0,f.iH)([]),E=(0,f.iH)("");function x(){_.value=!_.value,H.value&&(H.value=!1)}function C(e){b.value&&b.value.splice(e,1)}function U(){const e=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/;if(D.value)return e.test(D.value.trim())?D.value.trim().includes("https://")?(P.value="",!0):(P.value="Link must include https://",!1):(P.value="Invalid Link",!1);P.value="Empty link"}function O(){var e=U();if(e){if(0===b.value.length)return b.value.push(D.value),P.value="",void(D.value="");for(var t in b.value)if(t===D.value)return;b.value.push(D.value),P.value="",D.value=""}}function V(e){var t=confirm("Are you sure to delete the Post?");t&&u.deletePost(e).then((()=>{i.value=!1}))}return{postImageName:r,deletePost:V,typesOfPost:h,collectLinks:O,postType:k,newLinkValue:D,postTitle:w,showPhotoEditOptions:_,togglePhotoEditOptions:x,postImageValue:A,otherImages:N,linkValues:b,removePostLink:C,showAddLinkOptions:y,linkError:P,checkWebLinks:U,postDescription:E,isPostSelectedForEdit:i,allPostList:d,selectPostForEdit:p,goToPostViewScreen:g,selectedPostObject:s,cancelEdit:m,createModifiedPost:v,isBeingEdited:n,mayBeDeletableFileUrls:l}}};const vt=(0,r.Z)(pt,[["render",ct],["__scopeId","data-v-34a136f0"]]);var mt=vt;const gt=e=>((0,o.dD)("data-v-6bcb92a3"),e=e(),(0,o.Cn)(),e),ht={class:"wrapper"},kt={class:"upload-area"},wt=gt((()=>(0,o._)("h6",null,[(0,o._)("b",null,"Fill-Up Book Details")],-1))),bt={class:"name-field"},ft=gt((()=>(0,o._)("label",null,"Book Name",-1))),_t={class:"author-name"},yt=gt((()=>(0,o._)("label",null,"Author Name",-1))),Lt={class:"author-description"},Pt=gt((()=>(0,o._)("label",null,"Author Details",-1))),It={class:"prices"},Dt={class:"MRP"},Ht=gt((()=>(0,o._)("label",null,"MRP",-1))),At={class:"discount"},Nt=gt((()=>(0,o._)("label",null,"Discount",-1))),Et={class:"current-price"},xt=gt((()=>(0,o._)("label",null,"Current Price",-1))),Ct={class:"book-image"},Ut={class:"uploadBtns"},Ot=gt((()=>(0,o._)("label",null,"Book ImageLink",-1))),Vt={key:0,id:"error"},Bt={class:"description"},Tt=gt((()=>(0,o._)("label",null," Book Description",-1))),zt={class:"other-details"},St={class:"publication-year"},Zt=gt((()=>(0,o._)("label",null,"Publication Year",-1))),qt={class:"language"},Ft=gt((()=>(0,o._)("label",null,"Language",-1))),Wt={key:0,class:"padding-wrap"},$t={class:"languages"},jt=["onClick"],Mt=gt((()=>(0,o._)("span",null,[(0,o._)("i",{class:"fa-solid fa-xmark icn"})],-1))),Kt={class:"binding"},Yt=gt((()=>(0,o._)("label",null,"Binding",-1))),Rt={class:"publisher"},Gt=gt((()=>(0,o._)("label",null,"Publisher",-1))),Qt={class:"genre"},Jt=gt((()=>(0,o._)("label",null,"Genre",-1))),Xt={class:"ISBN"},el=gt((()=>(0,o._)("label",null,"ISBN",-1))),tl={class:"pages"},ll=gt((()=>(0,o._)("label",null,"Pages",-1))),nl={class:"seller"},al=gt((()=>(0,o._)("label",null,"Seller",-1))),il={class:"seller"},ol=gt((()=>(0,o._)("label",null,"Amazon Product link",-1))),sl={key:0,id:"error"},ul={class:"submit"},rl={key:0,class:"loading"},dl=gt((()=>(0,o._)("p",null,"Uploading....",-1))),cl=[dl];function pl(e,t,l,a,i,s){return(0,o.wg)(),(0,o.iD)("div",ht,[(0,o._)("div",kt,[wt,(0,o._)("div",bt,[ft,(0,o.wy)((0,o._)("textarea",{name:"name",type:"text",placeholder:"Enter Book Name",required:"","onUpdate:modelValue":t[0]||(t[0]=e=>a.bookName=e)},null,512),[[n.nr,a.bookName]])]),(0,o._)("div",_t,[yt,(0,o.wy)((0,o._)("input",{type:"text",placeholder:"Enter Author Name","onUpdate:modelValue":t[1]||(t[1]=e=>a.authorName=e)},null,512),[[n.nr,a.authorName]])]),(0,o._)("div",Lt,[Pt,(0,o.wy)((0,o._)("textarea",{placeholder:"Author Details(if any!)","onUpdate:modelValue":t[2]||(t[2]=e=>a.authorDetails=e)},null,512),[[n.nr,a.authorDetails]])]),(0,o._)("div",It,[(0,o._)("div",Dt,[Ht,(0,o.wy)((0,o._)("input",{type:"text",onKeyup:t[3]||(t[3]=e=>a.onlyNumberAllowd("mrp")),maxlength:"10",placeholder:"Enter MRP","onUpdate:modelValue":t[4]||(t[4]=e=>a.mrp=e)},null,544),[[n.nr,a.mrp]])]),(0,o._)("div",At,[Nt,(0,o.wy)((0,o._)("input",{type:"text",onKeyup:t[5]||(t[5]=e=>a.onlyNumberAllowd("discount")),maxlength:"2",placeholder:"Discount rate","onUpdate:modelValue":t[6]||(t[6]=e=>a.discount=e),onBlur:t[7]||(t[7]=(...e)=>a.calculateCurrentPrice&&a.calculateCurrentPrice(...e))},null,544),[[n.nr,a.discount]])]),(0,o._)("div",Et,[xt,(0,o.wy)((0,o._)("input",{type:"text",placeholder:"Current price",disabled:"","onUpdate:modelValue":t[8]||(t[8]=e=>a.currentPrice=e)},null,512),[[n.nr,a.currentPrice]])])]),(0,o._)("div",Ct,[(0,o._)("div",Ut,[Ot,(0,o.wy)((0,o._)("input",{type:"text",id:"file-uploader","onUpdate:modelValue":t[9]||(t[9]=e=>a.imageLinkUrl=e),onBlur:t[10]||(t[10]=e=>a.checkWebLink2(a.imageLinkUrl))},null,544),[[n.nr,a.imageLinkUrl]]),a.invalidLinkError2.length>0?((0,o.wg)(),(0,o.iD)("p",Vt,(0,v.zw)(a.invalidLinkError2),1)):(0,o.kq)("",!0)])]),(0,o._)("div",Bt,[Tt,(0,o.wy)((0,o._)("textarea",{placeholder:"Enter Book Description",required:"","onUpdate:modelValue":t[11]||(t[11]=e=>a.bookDescription=e)},null,512),[[n.nr,a.bookDescription]])]),(0,o._)("div",zt,[(0,o._)("div",St,[Zt,(0,o.wy)((0,o._)("input",{type:"text",onKeyup:t[12]||(t[12]=e=>a.onlyNumberAllowd("pubyear")),"onUpdate:modelValue":t[13]||(t[13]=e=>a.pubyear=e),maxlength:"4",placeholder:"Publication year"},null,544),[[n.nr,a.pubyear]])]),(0,o._)("div",qt,[Ft,0!=a.languageList.length?((0,o.wg)(),(0,o.iD)("div",Wt,[(0,o._)("div",$t,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.languageList,((e,t)=>((0,o.wg)(),(0,o.iD)("button",{key:t,onClick:e=>a.removeLang(t)},[(0,o.Uk)((0,v.zw)(e)+" ",1),Mt],8,jt)))),128))])])):(0,o.kq)("",!0),(0,o.wy)((0,o._)("input",{type:"text",placeholder:"Language","onUpdate:modelValue":t[14]||(t[14]=e=>a.languageVal=e),onBlur:t[15]||(t[15]=e=>a.addLang(a.languageVal))},null,544),[[n.nr,a.languageVal]])]),(0,o._)("div",Kt,[Yt,(0,o.wy)((0,o._)("input",{type:"text",placeholder:"Binding","onUpdate:modelValue":t[16]||(t[16]=e=>a.bindingType=e)},null,512),[[n.nr,a.bindingType]])]),(0,o._)("div",Rt,[Gt,(0,o.wy)((0,o._)("input",{type:"text",placeholder:"Publisher","onUpdate:modelValue":t[17]||(t[17]=e=>a.publisher=e)},null,512),[[n.nr,a.publisher]])]),(0,o._)("div",Qt,[Jt,(0,o.wy)((0,o._)("input",{type:"text",placeholder:"Genre","onUpdate:modelValue":t[18]||(t[18]=e=>a.genre=e)},null,512),[[n.nr,a.genre]])]),(0,o._)("div",Xt,[el,(0,o.wy)((0,o._)("input",{type:"text",placeholder:"ISBN","onUpdate:modelValue":t[19]||(t[19]=e=>a.isbn=e),maxlength:"13"},null,512),[[n.nr,a.isbn]])]),(0,o._)("div",tl,[ll,(0,o.wy)((0,o._)("input",{type:"text",placeholder:"Pages",onKeyup:t[20]||(t[20]=e=>a.onlyNumberAllowd("noOfPages")),"onUpdate:modelValue":t[21]||(t[21]=e=>a.noOfPages=e)},null,544),[[n.nr,a.noOfPages]])]),(0,o._)("div",nl,[al,(0,o.wy)((0,o._)("input",{type:"text",placeholder:"Seller","onUpdate:modelValue":t[22]||(t[22]=e=>a.sellerName=e)},null,512),[[n.nr,a.sellerName]])]),(0,o._)("div",il,[ol,(0,o.wy)((0,o._)("input",{type:"text",placeholder:"product link","onUpdate:modelValue":t[23]||(t[23]=e=>a.sellerLink=e),onBlur:t[24]||(t[24]=e=>a.checkWebLinks(a.sellerLink))},null,544),[[n.nr,a.sellerLink]]),a.invalidLinkError.length>0?((0,o.wg)(),(0,o.iD)("p",sl,(0,v.zw)(a.invalidLinkError),1)):(0,o.kq)("",!0)])]),(0,o._)("div",ul,[(0,o._)("button",{type:"submit",onClick:t[25]||(t[25]=e=>a.createBookForUpload())},"Upload")])]),a.isUploading?((0,o.wg)(),(0,o.iD)("div",rl,cl)):(0,o.kq)("",!0)])}const vl=(0,L.pm)(),ml=(0,a.Q_)("BookCollection",{state:()=>({bookCollection:[],selectedIndex:Number,derivedBook:Object}),getters:{getPost:e=>e.bookCollection},actions:{async createNewBook(e){await y().post("/api/book",e).then((e=>{e.status!==Number("200")||vl.success("New book uploaded!")}))},async extractAllBookFromServer(){console.log("trying to extract"),0===this.bookCollection.length&&await y().get("/api/book").then((e=>{e.status===Number("200")&&(this.bookCollection=e.data)}))},setSelectedBookId(e){this.selectedIndex=e},async getSeletedBook(e){if(e){var t=await y().get(`/api/book/${e}`);return t.status===Number("200")?t.data:null}},async deleteBook(e){await y()["delete"](`/api/book/${e}`).then((e=>e.status===Number("200")?(vl.success("Successfully deleted!"),!0):(vl.success("Operation failed!"),!1)))}},persist:!1});var gl={name:"upload-book-for-sale",setup(){const e=I();function t(e){return Ln.push({name:e})}(0,o.bv)((()=>{e.isLoggedIn||t("signin-login")}));const l=(0,L.pm)(),n=ml();function a(){}const i=(0,f.iH)(""),s=(0,f.iH)(""),u=(0,f.iH)(""),r=(0,f.iH)(""),d=(0,f.iH)(""),c=(0,f.iH)(""),p=(0,f.iH)(""),v=(0,f.iH)(""),m=(0,f.iH)(""),g=(0,f.iH)(""),h=(0,f.iH)(""),k=(0,f.iH)(""),w=(0,f.iH)([]),b=(0,f.iH)(!1),_=(0,f.iH)(""),y=(0,f.iH)([]);function P(e){y.value.splice(e,1)}function D(e){if(e){if(y.value.includes(e))return;y.value.push(e.trim()),_.value=""}}function H(){const e=document.querySelector("textarea");e.addEventListener("keyup",(t=>{e.style.height="auto";const l=t.target.scrollHeight;e.style.height=`${l}px`}))}var A=(0,f.iH)(!1);function N(){const e=document.getElementById("file-uploader");e.addEventListener("change",(function(){if(e.value){const t=e.files;A.value=!0;for(let e=0;e<t.length;e++)t[e].type.match("image")&&(w.value=[],w.value.push(t[e])),setTimeout((()=>{A.value=!1}),1e3)}}))}(0,o.bv)((()=>{H()}));const E=(0,f.iH)(""),x=(0,f.iH)(""),C=(0,f.iH)("");function U(){if(!E.value||!x.value)return;const e=100-Number(x.value);C.value=Number(E.value)*e/100}function O(e){var t=/[^0-9]/gi;this[e]=this[e].replace(t,"")}function V(e){const t=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/;if(t.test(e.trim()))return e.trim().includes("http")?void(T.value=""):void(T.value="Link must include https://");T.value="Invalid Link"}function B(e){const t=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/;if(t.test(e.trim()))return e.trim().includes("http")?void(z.value=""):void(z.value="Link must include https://");z.value="Invalid Link"}const T=(0,f.iH)(""),z=(0,f.iH)(""),S=(0,f.iH)("");var Z=(0,f.iH)();function q(){if(s.value&&u.value&&d.value&&c.value&&p.value&&v.value&&m.value&&g.value&&h.value&&k.value&&0!==i.value.length&&y.value&&E.value&&x.value&&C.value&&0!==!S.value.length){if(!(T.value.length>0))return!0;l.warning("Please provide a correct product link")}else l.warning("please Fillup all the details")}function F(){s.value="",S.value="",u.value="",r.value="",d.value="",c.value="",p.value="",v.value="",m.value="",g.value="",h.value="",k.value="",w.value=[],y.value="",E.value="",x.value="",C.value="",i.value=""}async function W(){var e=q();if(e){var t=new FormData;t.append("bookName",s.value),t.append("authorName",u.value),t.append("authorDetails",r.value),t.append("bookDescription",d.value),t.append("bindingType",c.value),t.append("publisher",p.value),t.append("genre",v.value),t.append("isbn",m.value),t.append("sellerName",g.value),t.append("noOfPages",h.value),t.append("pubYear",k.value),t.append("imageUrl",i.value),t.append("languageList",y.value),t.append("mrp",E.value),t.append("discount",x.value),t.append("currentPrice",C.value),t.append("amazonSellLink",S.value);var l=(new Date).getTime();t.append("lastActionTime",l),await n.createNewBook(t),F()}else console.log("not verified")}return{imageLinkUrl:i,checkWebLink2:B,isUploading:A,checkWebLinks:V,invalidLinkError:T,invalidLinkError2:z,sellerLink:S,book:Z,currentPrice:C,onlyNumberAllowd:O,discount:x,mrp:E,adjustTextFieldHeight:H,calculateCurrentPrice:U,removeLang:P,addLang:D,languageVal:_,languageList:y,verifyAllFields:q,imageUrl:w,getPhotoUrl:N,showPreview:b,pubyear:k,noOfPages:h,bookName:s,authorName:u,authorDetails:r,bookDescription:d,bindingType:c,publisher:p,genre:v,isbn:m,sellerName:g,createBookForUpload:W,resetStore:a}}};const hl=(0,r.Z)(gl,[["render",pl],["__scopeId","data-v-6bcb92a3"]]);var kl=hl;const wl=e=>((0,o.dD)("data-v-e6669c56"),e=e(),(0,o.Cn)(),e),bl={class:"gallery-wrapper"},fl={id:"formArea",class:"form-area"},_l={class:"title"},yl=wl((()=>(0,o._)("label",null,"Album Title",-1))),Ll=wl((()=>(0,o._)("br",null,null,-1))),Pl={key:0,style:{color:"red"}},Il=wl((()=>(0,o._)("br",null,null,-1))),Dl={class:"addLinkBtn"},Hl={key:1,class:"selected-album"},Al=["onClick"],Nl=wl((()=>(0,o._)("i",{class:"fa-solid fa-xmark icn"},null,-1))),El=[Nl],xl=["src"],Cl=wl((()=>(0,o._)("div",{class:"submit"},[(0,o._)("button",{type:"submit"},"Upload Now")],-1))),Ul={key:0,class:"loading"},Ol=wl((()=>(0,o._)("p",null,"Please Wait....",-1))),Vl=[Ol];function Bl(e,t,l,a,i,s){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",bl,[(0,o._)("div",fl,[(0,o._)("form",{enctype:"multipart/form-data",ref:"form",onSubmit:t[4]||(t[4]=(0,n.iM)(((...e)=>a.uploadAlbum&&a.uploadAlbum(...e)),["prevent"]))},[(0,o._)("div",_l,[yl,(0,o.wy)((0,o._)("textarea",{placeholder:"Enter Album title","onUpdate:modelValue":t[0]||(t[0]=e=>a.galleryTitle=e),name:"title"},null,512),[[n.nr,a.galleryTitle]])]),(0,o.wy)((0,o._)("input",{type:"text",class:"input",name:"galleryPhoto",placeholder:"Enter Image link","onUpdate:modelValue":t[1]||(t[1]=e=>a.glryImgLink=e),onBlur:t[2]||(t[2]=e=>a.functioncheckWeblink(a.glryImgLink))},null,544),[[n.nr,a.glryImgLink]]),Ll,a.linkError.length>0?((0,o.wg)(),(0,o.iD)("p",Pl,(0,v.zw)(a.linkError),1)):(0,o.kq)("",!0),Il,(0,o._)("div",Dl,[a.isLinkValid?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",onClick:t[3]||(t[3]=e=>a.collectGalleryImageLinks())}," Add Image link ")):(0,o.kq)("",!0)]),a.selectedPhotos?((0,o.wg)(),(0,o.iD)("div",Hl,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.selectedPhotos,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"photo",key:t},[(0,o._)("div",{class:"icon",onClick:e=>a.removeSelectedImageById(t)},El,8,Al),(0,o._)("iframe",{src:e},null,8,xl)])))),128))])):(0,o.kq)("",!0),Cl],544)])]),a.isWorkProgress?((0,o.wg)(),(0,o.iD)("div",Ul,Vl)):(0,o.kq)("",!0)],64)}const Tl=(0,L.pm)(),zl=(0,a.Q_)("photoAlbum",{state:()=>({albumCollection:[],selectedAlbum:Number}),getters:{getPost:e=>e.albumCollection},actions:{async createNewAlbum(e){await y().post("/api/gallery",e).then((e=>{e.status===Number("200")&&Tl.success("New gallery uploaded!")}))},async extractAllAlbum(){0===this.albumCollection.length&&await y().get("/api/gallery").then((e=>{e.status===Number("200")&&(this.albumCollection=e.data)}))},setSelectedAlbum(e){this.selectedAlbum=e}},persist:!0});function Sl(e,t){if(0===e.length)return;const l=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/;return l.test(e.trim())?(t&&(t=""),!0):(t="invalid link",!1)}var Zl={name:"upload-gallery",setup(){const e=I();function t(e){return Ln.push({name:e})}(0,o.bv)((()=>{e.isLoggedIn||t("signin-login")}));const l=(0,L.pm)(),n=(0,f.iH)(!1),a=zl(),i=(0,f.iH)("");let s=(0,f.iH)([]);function u(e){s.value.splice(e,1)}async function r(){if(!i.value||0===s.value.length)return void l.warning("Fillup all fields!");const e=new FormData;e.append("title",i.value);for(const l in s.value)e.append("images",s.value[l]);var t=(new Date).getTime();e.append("lastActionTime",t),await a.createNewAlbum(e).then((()=>{setTimeout((()=>{n.value=!1}),2e3)})),i.value="",s.value=[]}const d=(0,f.iH)(""),c=(0,f.iH)("");function p(){m(d.value),v.value&&0!==d.value.length&&(s.value.includes(d.value)||(s.value.push(d.value),d.value="",v.value=!1))}const v=(0,f.iH)(!1);function m(e){var t=Sl(e);t?(c.value.length>0&&(c.value=""),v.value=!0):(c.value="invalid link",v.value=!1)}return{isLinkValid:v,functioncheckWeblink:m,collectGalleryImageLinks:p,uploadAlbum:r,linkError:c,glryImgLink:d,isWorkProgress:n,selectedPhotos:s,galleryTitle:i,removeSelectedImageById:u,checkWebLinks:Sl}}};const ql=(0,r.Z)(Zl,[["render",Bl],["__scopeId","data-v-e6669c56"]]);var Fl=ql;const Wl=e=>((0,o.dD)("data-v-027f16b0"),e=e(),(0,o.Cn)(),e),$l={class:"wrapper"},jl={class:"upload-area"},Ml={class:"issue-name"},Kl=Wl((()=>(0,o._)("label",null,"Issue Name",-1))),Yl={class:"cover-photo"},Rl=Wl((()=>(0,o._)("label",null,"Cover Photo link",-1))),Gl={key:0,id:"error"},Ql={class:"issue-name"},Jl=Wl((()=>(0,o._)("label",null,"PDF link",-1))),Xl={key:1,id:"error"},en={class:"issue-name"},tn=Wl((()=>(0,o._)("label",null,"Serial Number",-1))),ln=Wl((()=>(0,o._)("div",{class:"upload-btn"},[(0,o._)("button",{type:"submit"},"Initiate Uplaod")],-1))),nn={key:0,class:"loading"},an=Wl((()=>(0,o._)("p",null,"Please wait....",-1))),on=[an];function sn(e,t,l,a,i,s){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",$l,[(0,o._)("div",jl,[(0,o._)("form",{enctype:"multipart/form-data",ref:"form",onSubmit:t[7]||(t[7]=(0,n.iM)(((...e)=>a.uploadNewIssue&&a.uploadNewIssue(...e)),["prevent"]))},[(0,o._)("div",Ml,[Kl,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.issueName=e),id:"issueLabel",name:"issueName"},null,512),[[n.nr,a.issueName]])]),(0,o._)("div",Yl,[Rl,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>a.coverPhotoLink=e),onBlur:t[2]||(t[2]=e=>a.checkWebLinks(a.coverPhotoLink,!0)),class:"coverPhotoL"},null,544),[[n.nr,a.coverPhotoLink]])]),a.coverPhotoError.length>0?((0,o.wg)(),(0,o.iD)("p",Gl,"not a valid link")):(0,o.kq)("",!0),(0,o._)("div",Ql,[Jl,(0,o.wy)((0,o._)("input",{type:"text",id:"pdf-loader","onUpdate:modelValue":t[3]||(t[3]=e=>a.pdfLink=e),onBlur:t[4]||(t[4]=e=>a.checkWebLinks(a.pdfLink)),name:"issuePdfLink"},null,544),[[n.nr,a.pdfLink]])]),a.txtAreaError.length>0?((0,o.wg)(),(0,o.iD)("p",Xl,"not a valid link")):(0,o.kq)("",!0),(0,o._)("div",en,[tn,(0,o.wy)((0,o._)("input",{type:"text",id:"pdf-loader","onUpdate:modelValue":t[5]||(t[5]=e=>a.serialNumber=e),onKeyup:t[6]||(t[6]=e=>a.onlyNumberAllowd("serialNumber")),name:"indexNumber"},null,544),[[n.nr,a.serialNumber]])]),ln],544)])]),a.isUploading?((0,o.wg)(),(0,o.iD)("div",nn,on)):(0,o.kq)("",!0)],64)}const un=(0,L.pm)(),rn=(0,a.Q_)("sampritiIssue",{state:()=>({sampritiIssueCollection:[],selectedIssueId:String,latestIssue:[]}),actions:{async createNewIssue(e){null!==e?await y().post("/api/issue",e).then((e=>{e.status===Number("200")&&un.success("New Issue uploaded!")})):un.warning("Content missing!")},setSelectedIssueId(e){this.selectedIssueId=e},async extractAllIssue(){0===this.sampritiIssueCollection.length&&await y().get("/api/issue").then((e=>{if(e.status===Number("200")){this.sampritiIssueCollection=e.data;var t,l=0;this.sampritiIssueCollection.forEach((e=>{Number(e.indexNumber)>l&&(l=e.indexNumber)})),this.sampritiIssueCollection.forEach((e=>{Number(e.indexNumber)===Number(l)&&(t=this.sampritiIssueCollection.indexOf(e))})),this.latestIssue=[],-1!==t&&this.latestIssue.push(this.sampritiIssueCollection[t])}}))}},persist:!1});var dn={name:"upload-new-issue",setup(){const e=I();function t(e){return Ln.push({name:e})}(0,o.bv)((()=>{e.isLoggedIn||t("signin-login")}));const l=(0,f.iH)(!1),n=rn(),a=(0,L.pm)(),i=(0,f.iH)(""),s=(0,f.iH)(""),u=(0,f.iH)(""),r=(0,f.iH)(""),d=(0,f.iH)("");function c(){if(p.value.length>0)return void a.warning("Pdf link not valid");if(v.value.length>0)return void a.warning("Cover photo link not valid");if(0===i.value.length||0===s.value.length||0===r.value.length||0===d.value.length)return void a.warning("Fillup all fields before uploading");l.value=!0;const e=new FormData;e.append("issueName",i.value),e.append("issuePdfLink",r.value),e.append("indexNumber",d.value),e.append("issueImage",s.value);var t=(new Date).getTime();e.append("lastActionTime",t),n.createNewIssue(e).then((()=>{l.value=!1})),s.value="",i.value="",r.value="",d.value=""}const p=(0,f.iH)(""),v=(0,f.iH)("");function m(e,t){const l=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/;if(l.test(e.trim()))return!0===t?void(v.value=""):void(p.value="");!0===t?v.value="error":p.value="error"}function g(e){var t=/[^0-9]/gi;this[e]=this[e].replace(t,"")}return{pdfLink:r,onlyNumberAllowd:g,coverPhotoError:v,coverPhotoLink:s,txtAreaError:p,checkWebLinks:m,serialNumber:d,selectedImage:u,uploadNewIssue:c,issueName:i,isUploading:l}}};const cn=(0,r.Z)(dn,[["render",sn],["__scopeId","data-v-027f16b0"]]);var pn=cn;const vn=e=>((0,o.dD)("data-v-64fb7854"),e=e(),(0,o.Cn)(),e),mn={class:"wrapper"},gn=vn((()=>(0,o._)("div",{class:"not-found"},[(0,o._)("h5",null,"Sorry!this page doesn't exist!")],-1))),hn=[gn];function kn(e,t,l,n,a,i){return(0,o.wg)(),(0,o.iD)("div",mn,hn)}var wn={name:"not-found",setup(){return{}}};const bn=(0,r.Z)(wn,[["render",kn],["__scopeId","data-v-64fb7854"]]);var fn=bn;const _n=[{path:"/",name:"signin-login",component:A},{path:"/sampriti-admin",name:"admin-options",component:K,meta:{requiresAuth:!0,adminOnly:!0}},{path:"/sampriti-admin/uploadbook",name:"upload-book-for-sale",component:kl,meta:{requiresAuth:!0,adminOnly:!0}},{path:"/sampriti-admin/create-post",name:"create-post",component:Ie,meta:{requiresAuth:!0,adminOnly:!0}},{path:"/sampriti-admin/edit-post",name:"edit-post",component:mt,meta:{requiresAuth:!0,adminOnly:!0}},{path:"/sampriti-admin/uploadPhotos",name:"upload-gallery",component:Fl,meta:{requiresAuth:!0,adminOnly:!0}},{path:"/sampriti-admin/uploadNewIssue",name:"upload-new-issue",component:pn},{path:"/:pathMatch(.*)*",name:"not-found",component:fn}],yn=(0,p.p7)({history:(0,p.PO)({NODE_ENV:"production",BASE_URL:"/"}.BASE_url),routes:_n});var Ln=yn;l(343),l(5654),l(1129);const Pn=(0,a.WB)();Pn.use(i.ZP);const In=(0,n.ri)(c);In.use(Pn),In.use(Ln),In.use(L.ZP),Ln.isReady().then((()=>{In.mount("#app")}))}},t={};function l(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,l),i.exports}l.m=e,function(){var e=[];l.O=function(t,n,a,i){if(!n){var o=1/0;for(d=0;d<e.length;d++){n=e[d][0],a=e[d][1],i=e[d][2];for(var s=!0,u=0;u<n.length;u++)(!1&i||o>=i)&&Object.keys(l.O).every((function(e){return l.O[e](n[u])}))?n.splice(u--,1):(s=!1,i<o&&(o=i));if(s){e.splice(d--,1);var r=a();void 0!==r&&(t=r)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,a,i]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};l.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,i,o=n[0],s=n[1],u=n[2],r=0;if(o.some((function(t){return 0!==e[t]}))){for(a in s)l.o(s,a)&&(l.m[a]=s[a]);if(u)var d=u(l)}for(t&&t(n);r<o.length;r++)i=o[r],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(d)},n=self["webpackChunksampriti"]=self["webpackChunksampriti"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=l.O(void 0,[998],(function(){return l(571)}));n=l.O(n)})();